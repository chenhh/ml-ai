---
description: 生活中極簡統計學
---

# 統計學關我什麼事

作者：[小島寬之](https://www.sanmin.com.tw/search/index/?au=%e5%b0%8f%e5%b3%b6%e5%af%ac%e4%b9%8b)

出版日：2018/06/12

《統計學關我什麼事：生活中的極簡統計學》是日本作者小島寬之的一本普及貝氏統計學的入門書籍。本書通過淺顯易懂的方式，引導讀者理解貝氏統計學的基本原理及其在日常生活中的應用。

## 第一部分 快速學習！理解貝氏統計學的精髓

## 第0講 只要會做四則運算，便可掌握貝氏統計學

特點：本書旨在從零基礎開始，通過簡單的四則運算和直觀的圖表來教授貝氏統計學，避免使用複雜的機率符號和計算過程。

目的：讓讀者毫無保留地掌握貝氏統計學的核心知識。

## 第1講 訊息增加導致機率變化——“貝氏推理”的基本方法

核心概念：貝氏推理是通過新的訊息來更新先前的機率估計，從而得到更精確的機率。

#### **案例背景**

假設你是一位商店裡的售貨員，面對一位顧客，你需要判斷這位顧客是來買東西的還是隨便逛逛的。這個判斷對於採取正確的接待方式非常重要。真正來買東西的顧客通常會盡快找到所需商品並購買，而隨便逛逛的顧客則可能會四處看看，只是為了以後購買做個參考。

### 貝氏推理的基本步驟

**1. 設定先驗機率**

* **定義類別**：假設顧客分為兩類：“來買東西的人”和“隨便逛逛的人”。
* **設定先驗機率**：根據經驗，假設每5位顧客中就有1位是“來買東西的人”，即“來買東西的人”的先驗機率為0.2，而“隨便逛逛的人”的先驗機率為0.8。

<figure><img src="../../.gitbook/assets/image (26).png" alt="" width="375"><figcaption><p>先驗分佈</p></figcaption></figure>

**2. 設定條件機率**

* **定義行為**：顧客的行為可以是“上前詢問”或“不上前詢問”。
*   **設定條件機率**：

    * “來買東西的人”上前詢問的機率為0.9，不上前詢問的機率為0.1。
    * “隨便逛逛的人”上前詢問的機率為0.3，不上前詢問的機率為0.7。



<figure><img src="../../.gitbook/assets/image (27).png" alt="" width="375"><figcaption><p>條件分佈</p></figcaption></figure>

**3. 觀察行為並排除不可能情況**

* **觀察行為**：假設你觀察到顧客上前詢問。
* **排除不可能情況**：由於顧客已經上前詢問，因此“不上前詢問”的可能性被排除。

<figure><img src="../../.gitbook/assets/image (28).png" alt="" width="375"><figcaption><p>排除不可能的情形</p></figcaption></figure>

**4. 計算聯合機率**

*   **計算聯合機率**：結合先驗機率和條件機率，計算每種情況的聯合機率。

    * “來買東西的人”上前詢問的機率 = 0.2 × 0.9 = 0.18
    * “來買東西的人”不上前詢問的機率 = 0.2 × 0.1 = 0.02
    * “隨便逛逛的人”上前詢問的機率 = 0.8 × 0.3 = 0.24
    * “隨便逛逛的人”不上前詢問的機率 = 0.8 × 0.7 = 0.56



<figure><img src="../../.gitbook/assets/image (29).png" alt="" width="375"><figcaption><p>聯合機率</p></figcaption></figure>

**5. 計算後驗機率**

* **標準化條件**：由於“不上前詢問”的可能性被排除，我們需要重新標準化剩餘的機率，使它們的總和為1。
  * 剩餘的機率之和 = 0.18 + 0.24 = 0.42
  * “來買東西的人”上前詢問的後驗機率 = 0.18 / 0.42 = 0.4286 ≈ 0.43
  * “隨便逛逛的人”上前詢問的後驗機率 = 0.24 / 0.42 = 0.5714 ≈ 0.57

<figure><img src="../../.gitbook/assets/image (30).png" alt="" width="375"><figcaption><p>後驗機率，標準化</p></figcaption></figure>

### 貝氏推理的過程總結

1. **設定先驗機率**：根據經驗設定兩類顧客的初始機率。
2. **設定條件機率**：根據經驗設定每類顧客採取不同行為的機率。
3. **觀察行為**：觀察顧客的具體行為（如上前詢問）。
4. **排除不可能情況**：根據觀察到的行為排除不可能的情況。
5. **計算聯合機率**：結合先驗機率和條件機率計算每種情況的聯合機率。
6. **標準化條件**：重新標準化剩餘的機率，使它們的總和為1。
7. **計算後驗機率**：得到觀察到行為後，兩類顧客的新機率。

通過這一過程，我們可以看到，貝氏推理不僅幫助我們更新對顧客型別的判斷，還提高了判斷的精準性。

## 第2講 貝氏推理的結果，有時與直覺大相徑庭——使用客觀數據時的注意事項

直覺與事實：通過具體例子說明，貝氏推理的結果可能與直覺大相徑庭，強調使用客觀數據的重要性。

#### **案例背景**

在醫療檢查中，通過貝氏推理可以更準確地評估檢查結果的意義。本講通過一個具體的癌症篩查案例，展示貝氏推理的結果有時與直覺大相逕庭，強調使用客觀資料的重要性。

#### **案例說明**

* **患病率**：某種特定癌症的患病率為0.1%（0.001），即每1000人中有1人患有這種癌症。
* **檢查精準率**：
  * 患有這種癌症的人中有95%（0.95）的機率被診斷為陽性。
  * 健康人群中有2%（0.02）的可能性被誤診為陽性。

#### **設定先驗機率**

* **先驗機率**：在沒有檢查結果的情況下，一個人患有這種癌症的機率為0.001。
* **健康機率**：一個人健康的機率為0.999。

<figure><img src="../../.gitbook/assets/image (31).png" alt="" width="375"><figcaption><p>先驗機率</p></figcaption></figure>

* **獲取資訊**：一個人接受了這項檢查，並且結果為陽性。
* **條件機率**：
  * 患有癌症的人被診斷為陽性的機率為0.95。
  * 健康的人被誤診為陽性的機率為0.02。

<figure><img src="../../.gitbook/assets/image (33).png" alt="" width="375"><figcaption><p>條件機率</p></figcaption></figure>

#### **計算聯合機率**

* **聯合機率**：結合先驗機率和條件機率，計算每種情況發生的機率。
* **具體計算**：
  * “患有癌症且檢查結果為陽性”的機率 = 0.001 × 0.95 = 0.00095
  * “健康且檢查結果為陽性”的機率 = 0.999 × 0.02 = 0.01998

<figure><img src="../../.gitbook/assets/image (34).png" alt="" width="375"><figcaption><p>聯合機率</p></figcaption></figure>

#### **標準化處理**

* **標準化**：確保所有可能性的機率之和為1。
* **標準化後的機率**：
  * “患有癌症且檢查結果為陽性”的標準化機率 = $$0.00095/(0.00095+0.01998)=0.00095/0.02093 \approx 0.0454​≈0.0454$$
  * “健康且檢查結果為陽性”的標準化機率 = $$0.01998/0.02093 \approx 0.9546$$

<figure><img src="../../.gitbook/assets/image (36).png" alt="" width="375"><figcaption><p>標準化與後驗機率</p></figcaption></figure>

#### **得出後驗機率**

* **後驗機率**：在觀察到檢查結果為陽性的情況下，更新患病的機率。
* **結果**：
  * 觀察到“檢查結果為陽性”的情況下，該人實際患有這種癌症的後驗機率約為0.0454，即約4.54%。
  * 觀察到“檢查結果為陽性”的情況下，該人實際健康的後驗機率約為0.9546，即約95.46%。

#### 小結

通過這個案例，我們可以看到貝氏推理的基本步驟：

1. **設定先驗機率**：在沒有檢查結果的情況下，對各個類別進行初步估計。
2. **獲取資訊**：觀察新的資訊，如檢查結果。
3. **計算聯合機率**：結合先驗機率和條件機率，計算每種情況發生的機率。
4. **標準化處理**：確保所有可能性的機率之和為1。
5. **得出後驗機率**：在觀察到新資訊的情況下，更新各個類別的機率。

通過這些步驟，我們可以更準確地評估檢查結果的意義，避免因直覺導致的誤解。在這個案例中，儘管檢查結果為陽性，但實際患有癌症的機率仍然較低，僅為約4.54%。這說明在評估醫療檢查結果時，需要考慮疾病的患病率和其他相關因素。

## 第3講 根據主觀數字也可以進行推理——疑惑時分的“理由不充分原理”

主觀機率：介紹如何在缺乏客觀數據的情況下，使用主觀機率進行推理。

#### **案例背景**

本講通過一個關於情人節送巧克力的問題，展示了如何在缺乏客觀資料的情況下，使用主觀機率和“理由不充分原理”進行貝氏推理。這個問題涉及到對某位女同事心意的推斷，雖然沒有統計資料支援，但仍然可以通過貝氏方法得出有意義的結論。

#### **問題設定**

* **背景**：假設你是一名男性，有一位特殊的女同事，你很在意她是否對你有好感。情人節那天，你收到了她送的巧克力。
* **目標**：推算“她喜歡你”這一事件的機率。

#### **設定先驗機率**

* **先驗機率**：在沒有具體資料的情況下，設定初始機率。
* **理由不充分原理**：由於沒有證據證明她喜歡你，也沒有證據證明她不喜歡你，因此暫且將這兩種情況的機率視為相等。
* **具體數值**：
  * “喜歡你”（真命天子）的機率設為0.5。
  * “不喜歡你”（無關路人）的機率設為0.5。

<figure><img src="../../.gitbook/assets/image (37).png" alt="" width="375"><figcaption><p>先驗機率</p></figcaption></figure>

#### **獲取資訊**

* **資訊**：觀察到她給你送了巧克力。
* **條件機率**：需要設定在不同情況下她送巧克力的機率。
  * 假設通過問卷調查得到的資料：
    * 對於“真命天子”，她送巧克力的機率為0.4。
    * 對於“無關路人”，她送巧克力的機率為0.2。

<figure><img src="../../.gitbook/assets/image (38).png" alt="" width="375"><figcaption><p>聯合機率</p></figcaption></figure>

**計算聯合機率**

* **聯合機率**：結合先驗機率和條件機率，計算每種情況發生的機率。
* **具體計算**：
  * “她是真命天子且送巧克力”的機率 = 0.5 × 0.4 = 0.2
  * “她是無關路人且送巧克力”的機率 = 0.5 × 0.2 = 0.1

<figure><img src="../../.gitbook/assets/image (39).png" alt="" width="375"><figcaption><p>標準化</p></figcaption></figure>

**標準化處理**

* **標準化**：確保所有可能性的機率之和為1。
* **標準化後的機率**：
  * “她是真命天子且送巧克力”的標準化機率 = $$0.2/(0.2+0.1)=0.2/0.3 \approx0.667$$
  * “她是無關路人且送巧克力”的標準化機率 = $$0.1/0.3 \approx 0.333$$

**得出後驗機率**

* **後驗機率**：在觀察到她送巧克力的情況下，更新她喜歡你的機率。
* **結果**：
  * 觀察到“送巧克力”的情況下，她喜歡你的後驗機率約為0.667，即約66.7%。
  * 觀察到“送巧克力”的情況下，她不喜歡你的後驗機率約為0.333，即約33.3%。

<figure><img src="../../.gitbook/assets/image (40).png" alt="" width="375"><figcaption><p>後驗機率</p></figcaption></figure>

#### 小結

通過這個案例，我們可以看到貝氏推理的基本步驟：

1. **設定先驗機率**：在沒有具體資料的情況下，使用“理由不充分原理”設定初始機率。
2. **獲取資訊**：觀察新的資訊，如她送巧克力的行為。
3. **計算聯合機率**：結合先驗機率和條件機率，計算每種情況發生的機率。
4. **標準化處理**：確保所有可能性的機率之和為1。
5. **得出後驗機率**：在觀察到新資訊的情況下，更新各個類別的機率。

通過這些步驟，我們可以在缺乏客觀資料的情況下，仍然能夠進行有意義的推理。在這個案例中，儘管最初沒有具體資料支援，但通過貝氏方法，我們得出她在情人節送巧克力的情況下，喜歡你的機率約為66.7%。這說明貝氏推理不僅適用於有大量資料的場景，也能在資料不足的情況下提供有用的洞見。

## 第4講 運用“機率的機率”，拓寬推理範圍

高級概念：介紹“機率的機率”概念，擴展貝氏推理的應用範圍。

#### **案例背景**

本講通過一個關於某對夫婦生育子女性別的問題，展示了如何使用貝氏推理中的“機率的機率”概念來處理更複雜的情況。這個問題涉及到在已知第一胎性別的情況下，推斷第二胎性別為女孩的機率。

**問題設定**

* **背景**：假設某對夫婦已經有一個女兒（第一胎為女孩），現在想知道第二胎也是女孩的機率。
* **目標**：推算“第二胎也是女孩”的機率。

**設定先驗機率**

* **先驗機率**：在沒有其他資訊的情況下，設定生女孩的機率。
* **具體數值**：為了簡化問題，假設生女孩的機率有三種可能：生女孩的機率為0.4或0.5或0.6。
* **先驗機率分配**：
  * 生女孩的機率為0.4的先驗機率為1/3
  * 生女孩的機率為0.5的先驗機率為1/3
  * 生女孩的機率為0.6的先驗機率為1/3

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt="" width="375"><figcaption><p>先驗機率</p></figcaption></figure>

**獲取資訊**

* **資訊**：已知這對夫婦的第一胎是女孩。
* **條件機率**：需要設定在不同情況下生第一胎為女孩的機率。
  * 生女孩的機率為0.4時，第一胎為女孩的機率為0.4，男孩的機率為0.6。
  * 生女孩的機率為0.5時，第一胎為女孩的機率為0.5，男孩的機率為0.5。
  * 生女孩的機率為0.6時，第一胎為女孩的機率為0.6，男孩的機率為0.4。

**計算聯合機率**

* **聯合機率**：結合先驗機率和條件機率，計算每種情況發生的機率。
* **具體計算**：
  * “生女孩的機率為0.4且第一胎為女孩”的機率 =  0.4/3
  * “生女孩的機率為0.5且第一胎為女孩”的機率 = 0.5/3
  * “生女孩的機率為0.6且第一胎為女孩”的機率 = 0.6/3

<figure><img src="../../.gitbook/assets/image (6) (1).png" alt="" width="375"><figcaption><p>聯合機率</p></figcaption></figure>

1.  **標準化處理**

    * **標準化**：確保所有可能性的機率之和為1。
    * **標準化後的機率**：
      * “生女孩的機率為0.4且第一胎為女孩”的標準化機率 = 4/15。$$0.08/(0.08+0.15+0.30)=0.08/0.53 \approx 0.151$$
      * “生女孩的機率為0.5且第一胎為女孩”的標準化機率 = $$5/15$$。
      * “生女孩的機率為0.6且第一胎為女孩”的標準化機率 = $$6/15$$。

    <figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt="" width="375"><figcaption><p>標準化</p></figcaption></figure>
2. **計算後驗機率**
   * **後驗機率**：在觀察到第一胎為女孩的情況下，更新生女孩的機率。
   * **具體計算**：
     * 生女孩的機率為0.4的後驗機率 ≈ 4/5
     * 生女孩的機率為0.5的後驗機率 ≈ 5/15
     * 生女孩的機率為0.6的後驗機率 ≈ 6/15

### 小結

通過這個案例，我們可以看到貝氏推理的基本步驟：

1. **設定先驗機率**：在沒有其他資訊的情況下，設定生女孩的機率。
2. **獲取資訊**：觀察新的資訊，如第一胎為女孩。
3. **計算聯合機率**：結合先驗機率和條件機率，計算每種情況發生的機率。
4. **標準化處理**：確保所有可能性的機率之和為1。
5. **計算後驗機率**：在觀察到新資訊的情況下，更新各個類別的機率。
6. **計算最終機率**：使用後驗機率計算最終的目標機率。

通過這些步驟，我們可以在更複雜的場景中使用貝氏推理，處理多個不確定因素，得出更有意義的結論。這說明貝氏推理不僅可以處理簡單的二分類問題，還能處理更複雜的情況。

## 第5講 從推算過程開始，逐漸明確的貝氏推理的特徵

推理過程：詳細解剖貝氏推理的步驟，從先驗機率到後驗機率的轉換。

**貝氏統計學與內曼-皮爾遜統計學的歷史對比**

* **貝氏統計學的悠久歷史**：貝氏統計學的歷史比內曼-皮爾遜統計學更悠久，起源於18世紀，由貝氏提出。
* **內曼-皮爾遜統計學的發展**：內曼-皮爾遜統計學在19世紀末到20世紀初形成，現已成為主流統計學方法。
* **貝氏推理的復興**：20世紀中期，隨著主觀機率理論的發展，貝氏推理重新受到重視。

**何為推論**

* **推論的定義**：通過已知證據對不明確事件進行推理和判斷的過程。
* **典型推論方法**：邏輯推論是最典型的推論方法，通過已知事實進行嚴密的邏輯推理。

**邏輯推理的過程**

* **事實列舉**：通過列舉已知事實，如A和B的關係、球的顏色等，進行嚴密的邏輯推理。
* **自然演繹法**：使用自然演繹法進行推理，逐步排除不可能的選項，得出結論。

**機率推理的過程**

* **機率推理的必要性**：當事實不確定時，需要使用機率推理。
* **機率推理的特點**：結論通常表達為“大概是\*\*”，反映不同可能性的大小。
* **標準統計學與貝氏推理的差異**：
* **標準統計學**：在風險可控的情況下，選擇一個最可能的結論。
* **貝氏推理**：考慮各種可能性的機率，得出最有可能的結論。

#### 小結 <a href="#xiao-jie" id="xiao-jie"></a>

* **邏輯性推理**：通過嚴密的邏輯演繹得出確定的結論。
* **機率推理**：在存在不確定性的情況下，通過機率分析來推測最可能的情況。
* **標準統計學**：在一定風險下做出決定，將結論集中在某一特定情況。
* **貝氏統計學**：考慮所有可能性，但傾向於某種情況發生的機率更高。

## 第6講 明快而嚴格，但其使用場合受到限制的內曼-皮爾遜式推理

對比：比較貝氏推理和內曼-皮爾遜式推理的差異，強調各自適用的場景。

**問題背景**

* 面前有一隻壺，可能是A壺或B壺。
* A壺有9個白球和1個黑球，B壺有2個白球和8個黑球。
* 從壺中取出1個球，若該球是黑色，推斷面前的是A壺還是B壺。

**事實**

1. 壺是A或B。
2. 如果是A壺，可能是白球。
3. 如果是B壺，可能是黑球。
4. 取出的球是黑球。

**推理過程**

* 假設壺是A壺，從A壺中取出黑球的機率是0.1（10%）。
* 因為有10%的錯誤機率，結合事實4（黑球），產生矛盾。
* 否定A壺的假設，推斷出“不是A壺”。
* 根據事實1和“不是A壺”，得出“是B壺”的結論。

**關鍵點**：

* 接受10%的判斷錯誤風險。
* 即使使用此方法，仍有10%的機率得出錯誤結論。

**假設檢驗的過程**

**假設檢驗步驟**：

1. 提出解消假設A。
2. 提出對立假設B。
3. 設定在解消假設A成立下，小機率α下能觀察到的現象X。
4. 確認是否觀察到現象X。
5. 若觀察到現象X，拋棄解消假設A，選擇對立假設B。
6. 若未觀察到現象X，保留解消假設A。

**顯著水平α**：

* 表示“極少被觀察到的現象”的機率。
* 通常設定為0.05（5%）或0.01（1%）。

**應用於壺的例子**：

* 解消假設A：A壺
* 對立假設B：B壺
* 設定顯著水平α為0.1
* 觀察到黑球，拋棄A壺假設，選擇B壺假設。

**假設檢驗中也存在無法做出判斷的情況**

**問題**：

* 顯著水平α的設定對判斷影響很大。
* 通常α設定為0.05或0.01，但這無科學依據。
* 在壺的例子中，若α設定為0.05或0.01，無法滿足假設檢驗標準。

**小結**：

1. 標準機率推論基於內曼-皮爾遜統計學。
2. 設定解消假設和對立假設。
3. 設定顯著水平α（通常0.05或0.01）。
4. 關注在解消假設下，α以下機率的現象X。
5. 觀察到現象X，拋棄解消假設，選擇對立假設。
6. 未觀察到現象X，保留解消假設。
7. 假設檢驗存在α機率的錯誤風險。

這些重點幫助理解內曼-皮爾遜統計學中的假設檢驗方法及其應用，並認識到其侷限性及風險。

## 第7講 通過少量訊息得出切實結論的貝氏推理與內曼-皮爾遜式推理的差異

訊息利用：詳細說明貝氏推理如何在少量訊息的情況下得出可靠的結論。

**用貝氏推理解開壺的問題**

在上一講中，我們學習了如何利用內曼-皮爾遜（Neyman-Pearson）統計學方法解決關於壺的判斷問題。這種方法通過假設檢驗，在設定顯著水平為10%的情況下，可以從“觀察到黑球”的現象得出“是B壺”的結論。但需要注意的是，這種方法在反覆使用時，有10%的機率會做出錯誤判斷。然而，如果將顯著水平設定為常見的5%或1%，則僅憑“觀察到一個球”這一現象，無法對壺的問題做出明確判斷。

另一種解決方法是貝氏推理（Bayesian inference）。貝氏推理提供了一種無需顯著水平概念的機率性推理方法。接下來，我們將通過貝氏推理來解決壺的問題。

**把A壺和B壺分別設定為一個類別**

**問題設定**：

* 面前有一個壺，已知這個壺要麼是A壺，要麼是B壺，但從外觀上無法區分。
* 已知資訊為：A壺中有9個白球和1個黑球；B壺中有2個白球和8個黑球。
* 現在從壺中取出1個球，結果是黑球。

**設定類別**：

* 需要判斷的問題是：面前的壺是A壺還是B壺？
* 因此，設定的類別分為A和B。

**設定先驗機率**：

* 由於我們暫時不知道壺是A壺還是B壺，也沒有其他資訊提示壺中裝有什麼顏色的球，因此根據“理由不充分原理”，將“是A壺”和“是B壺”的先驗機率均設為0.5。

**設定條件機率**：

* 在“是A壺”的情況下，出現黑球的條件機率為0.1，出現白球的條件機率為0.9。
* 在“是B壺”的情況下，出現黑球的條件機率為0.8，出現白球的條件機率為0.2。

**計算聯合機率**：

* 由於最終觀察到球的顏色為黑色，因此白球的可能性被完全排除。
* 計算兩種情況下觀察到黑球的聯合機率：
  * $$P(黑球∣A壺)×P(A壺)=0.1×0.5=0.05$$
  * $$P(黑球∣B壺)×P(B壺)=0.8×0.5=0.4$$

**標準化處理**：

* 將上述兩個機率標準化，得到後驗機率：
  * $$P(A壺∣黑球)=0.050.05+0.4=0.050.45=19≈0.11$$
  * $$P(B壺∣黑球)=0.40.05+0.4=0.40.45=89≈0.89$$

**結論**：

* 在觀察到黑球的前提下，該壺為A壺的後驗機率約為0.11，而該壺為B壺的後驗機率約為0.89。因此，判斷該壺為B壺較為妥當。

**貝氏推理無論在何種條件下，都能得出一個暫時的結果**

<mark style="color:red;">貝氏推理的一個重要特點是，它能夠在任何條件下得出一個暫時的結果</mark>，而不需要像內曼-皮爾遜統計學那樣設定顯著水平。貝氏推理給出的是兩種可能性及其相應的比例關係，而不是單一的判斷。

例如，假設在A壺的10個球中，黑球的個數為x；在B壺的10個球中，黑球的個數為y，之後觀察到出現了黑球，那麼：

* $$P(A壺∣黑球):P(B壺∣黑球)=x:y$$

因此，當壺中的黑球較多時，該壺為B壺的後驗機率也就越大。這種推理方法可以將“由於觀察到出現了黑球，因此可能是黑球較多的那個壺”這一簡單的推論合理化。

**貝氏推理和內曼-皮爾遜式推理中，“**<mark style="color:red;">**風險”**</mark>**的含義不同**

* **內曼-皮爾遜式推理**：
  * 顯著水平是其風險的指標，例如，將顯著水平設定為5%，意味著如果用同一方法反覆進行假設檢驗，有5%的機率會得出錯誤的結論。這種風險是對方法論本身的評價，而不是對當前結論的直接評價。
* **貝氏推理**：
  * 風險的評價直接體現在後驗機率本身。例如，在壺的例子中，計算出“該壺為A壺的後驗機率”約為0.11，因此，如果做出“該壺為B壺”的判斷，這一判斷出錯的機率也約為0.11。這種風險是基於兩種可能性的比例關係直接得出的。

**從邏輯性觀點出發，看貝氏推理的過程**

最後，我們從邏輯性觀點出發，總結一下貝氏推理的過程：

1. **設定類別**：
   * 該壺為A壺或者B壺。
2. **設定先驗機率**：
   * 若為A，先驗機率為0.5。
   * 若為B，先驗機率為0.5。
3. **設定條件機率**：
   * 若為A，黑球的條件機率為0.1，白球的條件機率為0.9。
   * 若為B，黑球的條件機率為0.8，白球的條件機率為0.2。
4. **觀察到黑球**：
   * 排除掉白球的可能性。
5. **計算後驗機率**：
   * 標準化處理後，得出“該壺為A壺”的後驗機率約為0.11，“該壺為B壺”的後驗機率約為0.89。
6. **得出結論**：
   * 由於後驗機率顯示“該壺為B壺”的可能性較大，因此判斷該壺為B壺。

#### 小結

1. 設定“該壺為A壺”和“該壺為B壺”兩個類別。
2. 依據理由不充分原理，設定A的先驗機率為0.5，B的先驗機率為0.5。
3. 在“該壺為A壺”的情況下，設定黑球的條件機率為0.1，白球的條件機率為0.9；在“該壺為B壺”的情況下，設定黑球的條件機率為0.8，白球的條件機率為0.2。
4. 由於觀察到了黑球，因此排除掉白球的可能性。
5. 設定黑球的機率滿足正規化條件。
6. 求出“該壺為A壺”的後驗機率和“該壺為B壺”的後驗機率，得出“應該是B壺”的結論。

## 第8講 貝氏推理的基礎：極大似然原理——貝氏統計學與內曼-皮爾遜統計學的銜接點

基礎原理：介紹極大似然原理及其在貝氏統計學中的應用。

**貝葉斯統計學與內曼-皮爾遜統計學的共通點**

* **先驗機率的概念**：貝葉斯統計學強調先驗機率的設定，即根據已有的知識或假設，為可能的原因分配“可能的程度”。而內曼-皮爾遜統計學雖然不直接使用先驗機率這一術語，但在其方法論中也隱含著類似的概念，如通過假設檢驗來設定不同假設的機率。
* **理解共通點的重要性**：認識到兩種統計學方法之間的共通之處有助於減少對貝氏統計學中先驗機率設定的抗拒感，並促進兩者之間的理解和融合。

**“極大似然原理”的廣泛應用**

* **極大似然原理概述**：這一原理認為，<mark style="color:red;">世界上的事件之所以發生，是因為它們發生的機率最大</mark>。例如，在給定兩個可能的原因A和B時，若觀察到的現象更可能由A引起，則傾向於選擇A作為原因。
* **日常生活中的應用**：極大似然原理不僅在學術研究中有重要應用，也在日常生活中被廣泛採用，如根據個人習慣判斷某人的行為。
* **科學領域的應用**：特別是在統計物理學中，極大似然原理被用來解釋各種複雜的物理現象。

**貝氏推理與極大似然原理的關係**

* **貝氏推理的基礎**：貝氏推理同樣基於極大似然原理，通過比較不同假設下的條件機率來更新先驗機率，從而得出後驗機率。
* **具體例子**：通過壺的例子說明了如何利用極大似然原理進行貝氏推理，即根據觀察結果（如從某個壺中抽出黑球）來判斷最可能的原因（該壺為B壺）。

**內曼-皮爾森統計學與極大似然原理**

* **統計推理中的應用**：內曼-皮爾森統計學中的點估計等方法實際上也運用了極大似然原理，即通過最大化觀察結果出現的機率來確定參數的最佳估計值。
* **具體例子**：通過一個二項分佈的例子（如每天觀察到某個事件發生的次數），說明了如何通過極大似然原理來估計事件發生的機率。
* **極大似然估計量與平均值的關係**：極大似然估計量往往等於樣本均值，這表明極大似然原理與常見的統計量之間有著密切的聯絡。

**小結**

1. **極大似然原理**：選擇使觀察到的現象發生機率最大的原因為基礎的原理。
2. **先驗機率與極大似然**：貝氏統計學中的先驗機率設定可以視為極大似然原理的應用之一。
3. **點估計與極大似然**：標準統計學中的點估計方法也是極大似然原理的應用之一。
4. **共通思想**：無論是貝氏統計學還是標準統計學，極大似然原理都是兩者共同遵循的基本原則。

通過這些講解，課程強調了雖然貝氏統計學和內曼-皮爾森統計學在方法論上有顯著差異，但它們在核心原理上存在著重要的共通之處，尤其是極大似然原理的應用。

## 第9講 貝氏推理的結果，有時與直覺大相徑庭——蒙蒂霍爾問題與三個囚犯的問題

經典問題：通過蒙蒂霍爾問題和三個囚犯的問題，展示貝氏推理的非直觀結果。

&#x20;**貝葉斯逆機率的悖論**

在本講中，我們將探討貝葉斯推理中的一些悖論問題。貝葉斯推理利用的是高中階段學習的機率公式，是一種基於先驗機率和新獲得的資訊來更新信念的方法。先驗機率的主觀性使得貝葉斯推理成為一種數學和哲學交界的理論。特殊設定下，貝葉斯推理可能匯出與常識和直覺相悖的結果。

**悖論1：蒙蒂霍爾問題**

**問題設定：**

* 面前有三道簾子（A、B、C），其中一道簾子後面藏著一輛轎車。
* 參加者選擇一道簾子（如A）。
* 主持人開啟另一道沒有轎車的簾子（如B）。
* 主持人問參加者是否要改選剩下的簾子（如C）。

**悖論核心：**

* 多數人認為改選或不改選的機率相同，都是1/2。
* <mark style="color:red;">實際上，改選後的勝利機率為2/3，不改選的勝利機率為1/3</mark>。

**悖論2：三個囚犯的問題**

**問題設定：**

* 艾倫（A）、伯納德（B）、查爾斯（C）三人中，兩人將被處死，一人被釋放。
* 艾倫向看守詢問誰將被處死，看守告訴他伯納德將被處死。
* 艾倫認為自己的生存機率從1/3上升到1/2。

**悖論核心：**

* 艾倫的推理看似合理，但事實上，他的生存機率仍然是1/3，而查爾斯的生存機率上升到2/3。
* 這與蒙蒂霍爾問題的結構相似，都是通過獲得部分資訊來更新機率。

**這兩個問題的本質是相同的**

<mark style="color:red;">這兩個問題的核心在於獲得資訊後機率的變化</mark>。在蒙蒂霍爾問題中，主持人開啟沒有轎車的簾子後，參選者應該改選；在三個囚犯的問題中，看守告知某人將被處死後，未被提及的囚犯生存機率上升。

**通過貝葉斯推理推匯出矛盾**

**貝葉斯推理步驟：**

1. **先驗機率：** A、B、C簾子後藏有轎車的機率各為1/3。
2. **條件機率：**
   * 若A簾後有轎車，主持人開啟B或C的機率各為1/2。
   * 若B簾後有轎車，主持人必定開啟C。
   * 若C簾後有轎車，主持人必定開啟B。
3. **後驗機率：**
   * 當主持人開啟B簾後，A簾後有轎車的機率為1/3，C簾後有轎車的機率為2/3。

**結論因模型的設定自身而發生變化**

* **模型依賴性：** 結論依賴於模型的設定，尤其是條件機率的設定。
* **多種模型：** 不同的條件機率設定會匯出不同的結論。
* **主觀性：** 貝葉斯推理的主觀性意味著不存在絕對的“正確答案”，只有“妥當的推論”。

#### 小結

1. 蒙蒂霍爾問題和三個囚犯問題表達了相同的機率悖論。
2. 如果認為一方的觀點奇怪，就不得不接受另一方的觀點。
3. 這些問題都可以通過貝葉斯推理來解答。
4. 結論依存於模型的設定，因此沒有絕對的“正確答案”。

## 第10講 掌握多條訊息時的推理①——運用“獨立試驗的機率乘法公式”

多訊息處理：介紹如何在掌握多條訊息的情況下進行推理。

**運用多項資訊進行貝葉斯推理**

* **背景**：以往案例中，貝氏推理通常基於單一資訊源（如顧客詢問、癌症檢查結果等）。
* **目標**：學習如何在獲得多項資訊的情況下進行推理。
* **重要性**：在實際應用中，推理往往需要綜合多項資訊來提高準確性和可靠性。

**將兩個試驗結合起來**

* **試驗定義**：試驗是指為每種可能性分配機率的過程。
* **直積試驗**：當兩個或多個試驗並存時，可以將它們結合起來形成新的試驗，這種試驗稱為直積試驗。
* **例證**：拋硬幣（正面/反面）和擲骰子（1-6點）的結果結合，形成12種可能的結果（2×6）。

**用乘法運算得出獨立的直積試驗的機率**

* **獨立性定義**：兩個試驗的結果互不影響，即一個試驗的結果不會改變另一個試驗的機率分佈。
* **獨立性檢查**：通過檢查某個試驗結果的機率在另一個試驗的不同結果下是否保持一致來判斷獨立性。
* **計算方法**：如果兩個試驗獨立，則直積試驗中某一結果的機率等於兩個單獨試驗結果機率的乘積。

**獨立試驗機率的乘法公式**

* **一般描述**：當兩個試驗獨立時，直積試驗的機率可以用乘法公式計算。
* **公式**：$$P(A \cap B) = P(A) P(B)$$$$P(A \ＣＡ B)=P(A)×P(B)P(A and B)=P(A)×P(B)$$
  * $$P(A \cap B)$$ 表示兩個事件同時發生的機率。
  * $$P(A)$$ 和 $$P(B)$$ 分別表示兩個單獨事件發生的機率。

#### 小結

1. **直積試驗**：將兩個或多個試驗結果組合成新的試驗，並通過圖表表示。
2. **獨立性**：兩個試驗的結果互不影響，這是一種直觀的理解方式。
3. **機率乘法公式**：當兩個試驗獨立時，直積試驗中某一結果的機率等於兩個單獨試驗結果機率的乘積。

這些概念和方法是貝葉斯推理中處理多項資訊的重要工具，有助於更精確地進行機率推理和決策。

## 第11講 掌握多條訊息時的推理②——以垃圾郵件過濾器為例

應用實例：通過垃圾郵件過濾器的例子，展示多訊息推理的實際應用。

**垃圾郵件過濾器以貝氏推理為基礎**

* **背景**：在統計推算和貝氏推理中，通常需要多條資訊來提高結果的可信度。
* **應用**：垃圾郵件過濾器是最廣為人知的貝氏推理應用之一，已被廣泛用於網路郵件服務中。
* **目標**：學習如何利用多條資訊來計算後驗機率，從而提高垃圾郵件過濾的精準性。

**在過濾器上設定“先驗機率”**

* **先驗機率**：在掃描郵件之前，設定“這封郵件是垃圾郵件”和“這封郵件是正常郵件”的先驗機率。
* **設定方法**：通常使用“理由不充分原理”，將兩種可能性各設定為0.5的機率。如果有更可靠的資料，也可以調整先驗機率。

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1).png" alt="" width="375"><figcaption><p>先驗機率</p></figcaption></figure>

**掃描字句與條件機率的設定**

* **條件機率**：設定垃圾郵件和正常郵件中特定字句或特徵的出現機率。
* **關鍵特徵**：例如，“附帶URL連結”在垃圾郵件中更常見。
* **條件機率表**：
  * 垃圾郵件：附帶連結的機率為0.6，無連結的機率為0.4。
  * 正常郵件：附帶連結的機率為0.2，無連結的機率為0.8。

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1).png" alt="" width="375"><figcaption><p>條件機率</p></figcaption></figure>

**根據掃描結果，計算垃圾郵件的貝氏機率**

* **掃描結果**：假設掃描結果顯示郵件附帶連結。
* **計算後驗機率**：
  * 垃圾郵件的後驗機率 = 0.5 × 0.6 = 0.3
  * 正常郵件的後驗機率 = 0.5 × 0.2 = 0.1
  * 機率比 = 0.3 : 0.1 = 3 : 1
  * 標準化後：垃圾郵件的後驗機率 = 3/4 = 0.75，正常郵件的後驗機率 = 1/4 = 0.25

<figure><img src="../../.gitbook/assets/image (2) (1) (1) (1).png" alt="" width="375"><figcaption><p>第一條資訊標準化與後驗機率</p></figcaption></figure>

**獲得第2條資訊後，可能性隨之變為8種**

* **新增資訊**：增加“幽會”一詞的出現機率。
* **條件機率表**：
  * 垃圾郵件：有幽會的機率為0.4，無幽會的機率為0.6。
  * 正常郵件：有幽會的機率為0.05，無幽會的機率為0.95。
* **可能性擴充套件**：總共有8種可能性。

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1).png" alt="" width="375"><figcaption><p>二筆資訊的條件機率</p></figcaption></figure>

**從2個資訊可以消去不可能的情況**

* **掃描結果**：假設掃描結果顯示郵件附帶連結且含有“幽會”一詞。
* **排除不可能情況**：只剩2種可能性（垃圾郵件附帶連結且含有“幽會”，正常郵件附帶連結且含有“幽會”）。
*   **計算後驗機率**：

    * 垃圾郵件的後驗機率 = 0.5 × 0.6 × 0.4 = 0.12
    * 正常郵件的後驗機率 = 0.5 × 0.2 × 0.05 = 0.005
    * 機率比 = 0.12 : 0.005 = 24 : 1
    * 標準化後：垃圾郵件的後驗機率 = 24/25 = 0.96，正常郵件的後驗機率 = 1/25 = 0.04

    <figure><img src="../../.gitbook/assets/image (4) (1).png" alt="" width="375"><figcaption><p>二筆資訊標準化與後驗機率</p></figcaption></figure>

#### 小結

1. **方法一致性**：使用2條資訊進行貝氏推理的方法與之前基本一致。
2. **可能性擴充套件**：在設定先驗機率的情況下，使用2條資訊會有8種可能性。
3. **機率計算**：利用乘法公式可以計算出8種可能性各自的機率。
4. **提高精準性**：使用2條資訊推算出的結論，比僅使用1條資訊推算出的結論更加精準。

<figure><img src="../../.gitbook/assets/image (5) (1).png" alt="" width="375"><figcaption><p>使用兩次貝氏推論</p></figcaption></figure>

這些內容展示了如何利用貝氏推理來提高垃圾郵件過濾器的精準性和可靠性，通過逐步引入更多資訊來不斷更新和改進判斷。\


## 第12講 在貝氏推理中可以依次使用訊息——“序貫理性”

序貫推理：介紹如何在貝氏推理中依次使用訊息，逐步提高推理的精度。

練習：通過練習題鞏固理解。

## 第13講 每獲得一條訊息，貝氏推理就變得更精確一些

訊息累積：強調每次獲得新訊息後，貝氏推理都能變得更精確。

練習：通過練習題鞏固理解。

## 第二部分 完全自學！從“機率論”到“正態分佈”

## 第14講 “機率”與“面積”的性質相同——機率論的基礎

機率與面積：通過圖表展示機率與面積的對應關係，直觀理解機率的概念。

練習：通過練習題鞏固理解。

## 第15講 在獲得訊息之後，機率的表示方法——“條件機率”的基本性質

條件機率：詳細介紹條件機率的概念及其計算方法。

練習：通過練習題鞏固理解。

## 第16講 “機率分佈圖”幫助我們進行更加通用的推理

機率分佈圖：介紹機率分佈圖的使用方法，幫助進行更通用的推理。

練習：通過練習題鞏固理解。

## 第17講 “貝塔分佈”的性質由兩個數字決定

貝塔分佈：詳細介紹貝塔分佈的性質及其應用。

練習：通過練習題鞏固理解。

## 第18講 決定機率分佈性質的“期待值”

期待值：介紹期待值的概念及其在機率分佈中的作用。

練習：通過練習題鞏固理解。

## 第19講 在“貝塔分佈”中使用機率分佈圖進行高級推理

高級應用：展示如何在貝塔分佈中使用機率分佈圖進行高級推理。

練習：通過練習題鞏固理解。

## 第20講 在拋硬幣或天體觀測時觀察到的“正態分佈”

正態分佈：介紹正態分佈的概念及其在實際問題中的應用。

練習：通過練習題鞏固理解。

## 第21講 在“正態分佈”中使用機率分佈圖進行高級推理

高級應用：展示如何在正態分佈中使用機率分佈圖進行高級推理。

練習：通過練習題鞏固理解。

## 結語

貝氏統計的未來：強調貝氏統計學在21世紀的重要性和應用前景。

個人經歷：作者分享了自己的學習和研究經歷，鼓勵讀者深入探索貝氏統計學。

##

\
