---
description: sequential rationality
---

# 序貫理性

## 範例：掃瞄垃圾郵件

先驗機率：在沒有資訊前，一般郵件(A)和垃圾郵件(B)的先驗機率相等，即$$\mathrm{P}(A)=\mathrm{P}(B)=0.5$$。

### 以超連結判斷

判斷是否為垃圾郵件，可從郵件是否含有超連結做簡單判斷：

* 垃圾郵件中，有超連結的條件機率為0.6。
* 正常郵件中，有超連結的條件機率為0.2。

因此可得聯合分佈：

|         | 有超連結             | 無超連結        |
| ------- | ---------------- | ---------------- |
| 垃圾郵件(B) | 0.5 \* 0.6 = 0.3 | 0.5 \* 0.4 = 0.2 |
| 正常郵件(A) | 0.5 \* 0.2 = 0.1 | 0.5 \* 0.8 = 0.4 |

如果收到的郵件有超連結時，則可去掉無超連結的情形，得後驗機率：

* $$\mathrm{P}(A|X)= \frac{0.1}{0.4} = 0.25$$
* $$\mathrm{P}(B|X)= \frac{0.3}{0.4} = 0.75$$

因此判斷為垃圾郵件的機率為75%。

### 以關鍵字判斷

判斷是否為垃圾郵件，也可從郵件是否含有關鍵字幽會做簡單判斷：

* 垃圾郵件中，有幽會關鍵字的條件機率為0.4。
* 正常郵件中，有幽會關鍵字的條件機率為0.05。

可聯合超連結($$X$$)和幽會關鍵字($$Y$$)做判斷得聯合分佈：


|      | 有超連結且有幽會 | 有超連結且沒有幽會 | 無超連結且有幽會 | 無超連結且沒有幽會 |
|----|---------------|-----------------|---------------|-----------------|
| 垃圾郵件(B) | 0.5 \* 0.6 \* 0.4  | 0.5 \* 0.6 \* 0.6  | 0.5 \* 0.4 \* 0.4  | 0.5 \* 0.4 \* 0.6   | 
| 正常郵件(A) | 0.5 \* 0.2 \* 0.05 | 0.5 \* 0.2 \* 0.95 | 0.5 \* 0.8 \* 0.05 | 0.5 \* 0.8 \* 0.95  |



已知郵件有連結，且有幽會關鍵字時的情形時：
* 垃圾郵件: $$ \mathrm{P}(B|X,Y) = 0.5 \times 0.6 \times 0.4 = 0.12 $$
* 正常郵件: $$ \mathrm{P}(A|X,Y) = 0.5 \times 0.2 \times 0.05 = 0.005 $$

正規化後得後驗機率：
* $$ \mathrm{P}(X,Y|B) = \frac{0.12}{0.12+0.005} = 0.96 $$
* $$ \mathrm{P}(X,Y|A) = \frac{0.005}{0.12+0.005} = 0.04 $$

因此有連結且有幽會關鍵字的郵件為垃圾郵件的機率為96%。

