# 排列\(permutation\)

## 基本計數原理

### 加法原理\(the rule of sum\)

> 如果一個事件發生的可能性有$$m$$種，另一個事件發生的可能性有$$n$$種，且兩事件不會同時發生，則兩事件的某一事件發生的可能性有$$m+n$$種。

	• e.g. a書有5本，b書有6本，c書有7本，從中選一本書的方法有5+6+7種結果。

### 乘法原理\(the rule of product\)

> 如果一個事件發生的可能性有$$m$$種，另一個事件發生的可能性有$$n$$種，其中二個事件互相獨立，則這兩事件都發生的可能性有$$mn$$種。

* e.g. a書有5本，b書有6本，c書有7本，從中選兩本不同的書有5\*6+5\*7+6\*7種結果。

##  排列\(permutation\)

> 排列公式
>
> * $$n$$件相異物，不允許重覆取$$r$$件排列的方法數。
> * 或$$r$$件不同物品，放在$$n$$個不同位置的排列方法數。
> * $$P\begin{pmatrix} n \\ r \end{pmatrix}  \equiv P(n,r)=  \frac{n!}{(n-r)!}, \ \ n \geq r$$

> * 相異物即選取時可分辦不同物體。
> * 不允許重覆選取即取後就不能再取，也可寫成每件物體只有一個；  而允許重覆選取可想成每件物體有無限多個。
> * 排列有次序之分\(因為是相異物\)，如01, 10視為不同的數列；但組合時無次序之分。

proof:

* $$n$$件相異物取第一件時，有$$n$$種取法，取完後，乘下$$(n-1)$$種相異物。
* $$(n-1)$$相異物第二件時，有$$(n-1)$$種取法，取完後，乘下$$(n-2)$$相異物。
*  以此類推取第$$r$$件時，有\($$n+r−1)$$種取法。
* 因此有$$n(n−1)(n−2)⋯(n−r+1) = \frac{n!}{(n-r)!}$$\(QED\)

### 全相異物排列公式

> $$ n$$件相異物放在$$n$$位不同位置，有$$n!$$排列法。

* 第$$1$$個物品放置時，有$$n$$個位置可選。
* 第$$2$$個物品放置時，有$$(n-1)$$個位置可選。
* 因此全部的排列方法有$$n(n−1)(n−2) \ldots 1=n!$$ \(QED\)

###  環狀排列公式

> $$n$$件相異物放在$$n$$位不同位置，其中$$n$$個位置圍成一個環形，則有$$(n−1)!$$種排法。

* 直接排列時，有$$n!$$種排列法。
* 而環狀排列時，若有兩個排列法只相差旋轉$$1$$個位置，$$2$$個位置，或$$n$$個位置，則這兩個排列視為相同。\(如123, 312, 231在環狀排列時均視為相同\)。
* 所以環狀排列有$$n!/n=(n−1)!$$種 \(QED\)

例：三對夫妻坐圓桌，且男女交錯的坐法有幾種?

* 三個男生先坐的方法有$$3!/3 = 2!$$種，之後女生安插在男生中間有$$3!$$種，共有$$2!3!=12$$種。

### 不全相異物排列公式

> $$n$$個不全相異物有$$k$$類，第1類有$$q_1$$ 個，第2類有$$q_2$$ 個，至第k類有$$q_k$$ 個，$$\sum_{i=1}^{k} q_i = n$$
>
> 這$$n$$個物體放在$$n$$個相異位置的排列方法有 $$ \frac{n!}{q_1! q_2! \ldots q_k!}$$種。

* $$n$$件相異物放在$$n$$個相異位置，有$$n!$$排列法。
* 第$$i$$類物品的排列法有$$q_i !$$種，但因為均為相同物品，所以這$$q_i !$$種排列法只視為一種。
* 因此$$k$$類不全相異物的排列法為 $$\frac{n!}{q_1! q_2! \ldots q_k!}$$種。\(QED\)。

例： 字母TALLAHASSEE的排列方法有 $$\frac{11!}{3!2!2!2!}$$ 種。

例：二元$$n$$序列中，包含偶數個0的序列有幾個?

* 總共有$$2^n$$種序列，且因為偶數個0與奇數個0的序列各一半，因此有$$\frac{2^n}{2}=2^{(n−1)}$$ 個。

### 允許重複取排列公式

> $$n$$件相異物，允許重複取$$r$$件排列的方法有$$n^r$$ 種。
>
> 允許重複取的意義為$$n$$件相異物取1件後，仍然剩下$$n$$件相異物，而非$$(n−1)$$件相異物；因此允許重複取可視為每一件物品有無窮多個。

## 可數集合間的函數個數

> * $$A, B$$為兩集合，其元素個數分別為$$|A|=m, |B|=n$$，則
> * $$A \mapsto B$$的函數個數有$$n^m$$ 個。
> * 由$$A \mapsto B$$的一對一函數個數有$$P(n, m)$$個。
> * 由$$A \mapsto B$$的映成函數個數有$$Onto(m,n) = \sum_{i=0}^n(-1)C(n, i)(n-i)^m$$個。

* 令 $$A =\{ a_1, a_2, \ldots, a_m\}, B=\{ b_1, b_2, \ldots, b_n\}$$。
* $$A \mapsto B$$的函數定義為 $$\forall a \in A \ \exists! b \in B \ni f(a)=b$$，每一個定義域的元素均有唯一的函數值。

一般的函數：

* $$f(a_1)$$之值可為$$\{ b_1, \ldots, b_n\}$$的至任一值，有$$n$$種可能。
* 同理可得$$f(a_i)$$之值可為$$\{ b_1, \ldots, b_n\}$$的至任一值，$$i=1,2,\ldots, m$$。
* 因此$$A \mapsto B$$的函數有 $$n^m$$個 \(QED\)。

一對一函數：

* 令$$f(a_1) =b_1, f(a_2)=b_2$$，若$$b_1=b_2 \Rightarrow a_1=a_2$$。
* 一對一函數排除了多對一對應的可能性，因此
* $$a_1$$的函數值可對應至$$\{b_1,b_2,\ \ldots, b_n\}$$任一值，有$$n$$種選擇。
* $$a_2$$的函數值可對應至$$\{b_1,b_2, \ldots, b_n \} \setminus \{ f(a_1) \}$$，有$$(n-1)$$種選擇。
* 以此類別，$$a_m$$的函數值可對應至$$\{b_1,b_2, \ldots, b_n \} \setminus \{ f(a_1),f(a_2), \ldots, f(a_{m-1}) \}$$，有$$(n-m+1)$$種選擇。
* 因此共有 $$n\times(n-1)\times \ldots \times (n-m+1) = \frac{n!}{(n-m+1)!} = P(n,m)$$個函數 。 \(QED\)。

映成函數：

* $$\forall b \in B\ \exists a \in A \ni f(a)=b$$。
* 等同於$$m$$個相異物，放入$$n$$個相異箱子，不允許有空箱的方法數。

